<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jsTask5</title>
    <style>
      main {
        text-align: center;
      }
      form {
        display: inline-block;
        text-align: left;
      }
      label {
        display: inline-block;
        width: 100px;
        margin-right: 100px;
      }
      p {
        margin: 10px 0;
      }
      .message-container {
        display: flex;
        align-items: flex-start;
      }
      .message-container textarea {
        flex: 1;
      }
      .error {
        color: red;
      }
      .invalid {
        border: 1px solid red;
      }
    </style>
  </head>
  <body>
    <main>
      <form
        style="border: 1px solid black; padding: 30px; margin-top: 5%"
        onsubmit="return validateForm()"
      >
        <p>
          <label for="name">Name:</label>
          <input type="text" id="name" class="inp" />
          <span class="error" id="nameError"></span>
        </p>

        <p>
          <label for="email">Email:</label>
          <input type="email" id="email" class="inp" />
          <span class="error" id="emailError"></span>
        </p>

        <p>
          <label for="website">Website:</label>
          <input type="text" id="website" class="inp" />
          <span class="error" id="websiteError"></span>
        </p>

        <div class="message-container">
          <label for="msg">Message:</label>
          <textarea
            name="msg"
            id="msg"
            cols="20"
            rows="4"
            class="inp"
          ></textarea>
          <span class="error" id="msgError"></span>
        </div>

        <p style="margin-left: 200px">
          <button type="submit">Submit</button>
        </p>
      </form>
    </main>

    <script>
      function validateForm() {
        const fields = [
          { id: "name", message: "This field is required" },
          { id: "email", message: "A valid email address is required" },
          { id: "website", message: "A valid url is required" },
          { id: "msg", message: "This field is required" },
        ];

        let isValid = true;

        fields.forEach((field) => {
          const input = document.getElementById(field.id);
          const errorSpan = document.getElementById(`${field.id}Error`);

          if (!input.value.trim()) {
            errorSpan.textContent = field.message;
            input.classList.add("invalid");
            isValid = false;
          } else {
            errorSpan.textContent = "";
            input.classList.remove("invalid");
          }
        });

        return isValid;
      }
    </script>
  </body>
</html>
